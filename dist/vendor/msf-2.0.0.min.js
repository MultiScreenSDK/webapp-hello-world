var msf=function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,s=n(1);i=function(){return s}.call(e,n,e,t),!(void 0!==i&&(t.exports=i)),t.exports=s},function(t,e,n){"use strict";var i=(n(5),n(2)),s=n(3),r=n(4),o=null,c=new i;c.search=function(t){return o||(o=new r),t&&(o.once("found",function(e){t(null,e)}),setTimeout(function(){o.start()},0)),o},c.local=function(t){s.getLocal(t)},c.remote=function(t,e){s.getByURI(t,e)},t.exports=c},function(t){"use strict";function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,i,o,c,a,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[t],r(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,c=new Array(o-1),a=1;o>a;a++)c[a-1]=arguments[a];i.apply(this,c)}else if(s(i)){for(o=arguments.length,c=new Array(o-1),a=1;o>a;a++)c[a-1]=arguments[a];for(h=i.slice(),o=h.length,a=0;o>a;a++)h[a].apply(this,c)}return!0},e.prototype.addListener=function(t,i){var o;if(!n(i))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(i.listener)?i.listener:i),this._events[t]?s(this._events[t])?this._events[t].push(i):this._events[t]=[this._events[t],i]:this._events[t]=i,s(this._events[t])&&!this._events[t].warned){var o;o=r(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function i(){this.removeListener(t,i),s||(s=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var s=!1;return i.listener=e,this.on(t,i),this},e.prototype.removeListener=function(t,e){var i,r,o,c;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(c=o;c-->0;)if(i[c]===e||i[c].listener&&i[c].listener===e){r=c;break}if(0>r)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.listenerCount=function(t,e){var i;return i=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},function(t,e,n){"use strict";function i(t){this.id=t.id,this.name=t.name,this.version=t.version,this.type=t.type,this.uri=t.uri,this.device=t.device,r.readOnly(this,["id","name","version","type","uri","device"])}var s=n(5),r=s.props,o=n(6),c=n(7);i.prototype.application=function(t){return new o(this,t)},i.prototype.channel=function(t){return new c(this,t)},i.getLocal=function(t){i.getByURI("http://127.0.0.1:8001/api/v2/",t)},i.getByURI=function(t,e){var n=new XMLHttpRequest;n.timeout=5e3,n.ontimeout=function(){e()},n.onload=function(){if(200===this.status)try{var t=JSON.parse(this.responseText);e(null,new i(t))}catch(n){e(n)}else e()},n.open("get",t,!0),n.send()},t.exports=i},function(t,e,n){"use strict";function i(){i.super_.call(this),this.discoveryFrame=null,this.status=i.STATUS_STOPPED;var t=this,e=document.createElement("iframe");e.setAttribute("width","1"),e.setAttribute("height","1"),e.style.display="none",e.src="http://dev-multiscreen.samsung.com/discoveryservice/v2/discover",document.body.appendChild(e),this.windowMessageListener=function(s){if(s.source===e.contentWindow)if(s.data&&"discovery.ready"===s.data.event)t.discoveryFrame=s.source,t.onSearchReady();else if(s.data&&"discovery.result"===s.data.event){for(var r=[],o=n(3),c=0;c<s.data.result.length;c++)r.push(new o(s.data.result[c]));t.onSearchResult(r)}else s.data&&"discovery.error"===s.data.event&&(t.onSearchError(s.data.error),this.status=i.STATUS_STOPPED)},window.addEventListener("message",this.windowMessageListener),r.private(this,["discoveryFrame","windowMessageListener"])}var s=n(5),r=s.props,o=n(2);s.inherits(i,o),i.STATUS_STOPPED="stopped",i.STATUS_STARTED="started",i.prototype.onSearchReady=function(){this.emit("ready")},i.prototype.onSearchResult=function(t){this.status!==i.STATUS_STOPPED&&this.emit("found",t),this.status=i.STATUS_STOPPED},i.prototype.onSearchError=function(t){this.emit("error",t),this.status=i.STATUS_STOPPED},i.prototype.start=function(){if(this.status===i.STATUS_STOPPED){if(this.discoveryFrame)this.discoveryFrame.postMessage({method:"discovery.search"},"*");else{var t=this;this.once("ready",function(){t.discoveryFrame.postMessage({method:"discovery.search"},"*")})}this.status=i.STATUS_STARTED,this.emit("start",this)}else console.warn("a previous search is already in progress")},i.prototype.stop=function(){this.status=i.STATUS_STOPPED,this.emit("stop",this)},t.exports=i},function(t,e,n){t.exports={url:n(8),inherits:n(9),props:n(10),types:n(11),queryString:n(12)}},function(t,e,n){"use strict";function i(t,e){if(!r.isObject(t))throw new TypeError("service must be of type Service");if(!r.isString(e))throw new TypeError("id must be a valid string");this.type=e.match(/(file:\/\/|http(s)?:\/\/)/gim)?"webapplication":"application";var n="webapplication"===this.type?s.url.parse(e).hostname:e;i.super_.call(this,t,n),this.id=e,this.startOnConnect=!0,this.stopOnDisconnect=!0,this.disconnectWithHost=!0;var a=this;this.on("connect",function(){a.startOnConnect&&this.start()}),this.on("clientDisconnect",function(t){a.disconnectWithHost&&t.isHost&&this.disconnect()}),this.disconnect=function(){a.stopOnDisconnect&&a.clients.length<3&&a.stop(function(){c.prototype.disconnect.call(a)})},o.readOnly(this,"id"),o.private(this,"type")}var s=n(5),r=s.types,o=s.props,c=n(7);s.inherits(i,c),i.prototype.getInfo=function(t){"webapplication"===this.type?this.invoke("ms.webapplication.get",{url:this.id},t):this.invoke("ms.application.get",{id:this.id},t)},i.prototype.start=function(t){"webapplication"===this.type?this.invoke("ms.webapplication.start",{url:this.id},t):this.invoke("ms.application.start",{id:this.id},t)},i.prototype.stop=function(t){"webapplication"===this.type?this.invoke("ms.webapplication.stop",{url:this.id},t):this.invoke("ms.application.stop",{id:this.id},t)},i.prototype.install=function(t){if("webapplication"===this.type)throw new Error("install cannot be called on web applications");this.invoke("ms.application.install",{id:this.id},t)},t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!r.isObject(t))throw new TypeError("service must be of type Service");if(!r.isString(e))throw new TypeError("uri must be a valid string");i.super_.call(this);var n=this,c=s.url.parse(t.uri);this.uri=e,this.clients=new h(this),Object.defineProperty(this,"isConnected",{get:function(){return n.connection&&1===n.connection.readyState}}),this.clientId=null,this.connection=null,this.resultHandlers={},this.connectionUrl="ws://"+c.host+c.pathname+"channels/"+e,o.private(this,["clientId","connection","resultHandlers","connectionUrl"]),o.readOnly(this,["uri","clients"])}var s=n(5),r=s.types,o=s.props,c=n(2),a=n(13),h=n(14);s.inherits(i,c),i.prototype.invoke=function(t,e,n,i){if(!this.isConnected)throw new Error("the channel is disconnected");if(!r.isString(t))throw new TypeError("method must be a valid string");e=e||{};var s={method:t,params:e};n&&!i&&(s.id=Date.now(),this.resultHandlers[s.id]=n),this.connection.send(JSON.stringify(s))},i.prototype.connect=function(t,e){if(r.isFunction(t)&&!e?(e=t,t={}):t=t||{},!r.isObject(t))throw new TypeError("attributes must be a valid object");if(e&&!r.isFunction(e))throw new TypeError("callback must be a valid function");if(this.isConnected)throw new Error("the channel is already connected");var n=this.connectionUrl+"?"+s.queryString.stringify(t);this.connection||(this.connection=new WebSocket(n),this.connection.onopen=this._onSocketOpen.bind(this),this.connection.onerror=this._onSocketError.bind(this),this.connection.onclose=this._onSocketClose.bind(this),this.connection.onmessage=this._onSocketMessage.bind(this));var i=this;e&&this.once("connect",function(){e(null,i)})},i.prototype.disconnect=function(t){if(!this.isConnected)throw new Error("the channel is already disconnected");this.connection.close();var e=this;setTimeout(function(){t&&t(null,e)},0)},i.prototype.publish=function(t,e,n){if(n=n||"broadcast",e=e||null,!this.isConnected)throw new Error(" the channel is not connected");if(!r.isString(t))throw new TypeError("event must be a valid string");if(!r.isString(n)&&!r.isArray(n))throw new TypeError("targets must be a valid string or array");this.invoke("ms.channel.emit",{event:t,data:e,to:n},null,!0)},i.prototype._onSocketOpen=function(){},i.prototype._onSocketClose=function(){var t=this.clients.me;this.clients.clear(),this.emit("disconnect",t)},i.prototype._onSocketError=function(){this.emit("error",new Error("WebSocket error"))},i.prototype._onSocketMessage=function(t){var e;try{t=JSON.parse(t.data)}catch(n){return void console.warn("unable to parse message",t)}if(t.id&&(t.result||t.error)){if(!this.resultHandlers[t.id])return void console.warn("unable to find result handler for result message ",t);this.resultHandlers[t.id](t.error,t.result)}else if(t.event)switch(t.event){case"ms.channel.connect":this.clientId=t.data.id,t.data.clients.forEach(function(t){e=new a(t.id,t.attributes,t.isHost),this.clients.push(e)},this),this.emit("connect",this);break;case"ms.channel.clientConnect":e=new a(t.data.id,t.data.attributes,t.data.isHost),this.clients.push(e),this.emit("clientConnect",e);break;case"ms.channel.clientDisconnect":e=this.clients.getById(t.data.id),e?this.clients.remove(e):(console.warn("client "+t.data.id+" could not be found, so it was not removed from the client list"),e=new a(t.data.id,t.data.attributes,t.data.isHost)),this.emit("clientDisconnect",e);break;case"ms.channel.ready":this.emit("ready");break;default:e=this.clients.getById(t.from);var i=t.event,s=t.data;this.emit(i,s,e)}else console.warn("unrecognized message type",t)},t.exports=i},function(t,e,n){"use strict";var i=n(12),s={isValid:function(t){var e=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;return t.match(e)?!0:!1},parse:function(t){var e={},n=document.createElement("a");return n.href=t,e.href=n.href,e.protocol=n.protocol,e.hostname=n.hostname,e.port=n.port,e.pathname=n.pathname,e.search=n.search,e.hash=n.hash,e.host=n.host,e.queryString=i.parse(n.search),e}};t.exports=s},function(t){"use strict";t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t){"use strict";function e(t,e,n,i){return{enumerable:t,configurable:e,writable:n,value:i}}t.exports={readOnly:function(t,n){Array.isArray(n)?n.forEach(function(n){Object.defineProperty(t,n,e(!0,!0,!1,t[n]))}):Object.defineProperty(t,n,e(!0,!0,!1,t[n]))},"private":function(t,n){Array.isArray(n)?n.forEach(function(n){Object.defineProperty(t,n,e(!1,!0,!0,t[n]))}):Object.defineProperty(t,n,e(!1,!0,!0,t[n]))}}},function(t){"use strict";t.exports={isString:function(t){return"string"==typeof t},isNull:function(t){return null===t},isBoolean:function(t){return"boolean"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return t===Object(t)},isArray:function(t){return t.constructor===Array},isFunction:function(t){return"function"==typeof t}}},function(t){"use strict";/*!
	 query-string
	 Parse and stringify URL query strings
	 https://github.com/sindresorhus/query-string
	 by Sindre Sorhus
	 MIT License
	 */
var e={};e.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""),t?t.trim().split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),i=n[0],s=n[1];return i=decodeURIComponent(i),s=void 0===s?null:decodeURIComponent(s),t.hasOwnProperty(i)?Array.isArray(t[i])?t[i].push(s):t[i]=[t[i],s]:t[i]=s,t},{}):{})},e.stringify=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},t.exports=e},function(t,e,n){"use strict";function i(t,e,n,i){if(!r.isString(t))throw new TypeError("id must be a valid string");if(e&&!r.isObject(e))throw new TypeError("attributes must be a valid object");this.id=t,this.attributes=e||{},this.isHost=n,this.connectTime=i||Date.now(),Object.freeze(this.attributes),Object.freeze(this)}var s=n(5),r=s.types;t.exports=i},function(t,e,n){"use strict";function i(t){if(!r.isObject(t))throw new TypeError("channel must be of type Channel");this.channel=t,i.super_.call(this)}var s=n(5),r=s.types;s.inherits(i,Array),i.prototype.clear=function(){this.length=0},i.prototype.remove=function(t){var e=this.indexOf(t);return-1!==e?(this.splice(e,1),t):null},i.prototype.getById=function(t){if(!r.isString(t)&&!r.isNumber(t))throw new TypeError("id must be a valid string or number");for(var e=0;e<this.length;e++)if(this[e].id===t)return this[e];return null},Object.defineProperty(i.prototype,"me",{get:function(){return this.getById(this.channel.clientId)}}),t.exports=i}]);
//# sourceMappingURL=msf-2.0.0.min.js.map